{
  "Scripts": [
    "DQpmdW5jdGlvbiBSZWdpc3Rlci1XZWJBcHAgew0KPCMNCi5MSU5LUw0KDQpodHRwOi8vd3d3Lmlpcy5uZXQvbGVhcm4vbWFuYWdlL3Bvd2Vyc2hlbGwvcG93ZXJzaGVsbC1zbmFwLWluLWNyZWF0aW5nLXdlYi1zaXRlcy13ZWItYXBwbGljYXRpb25zLXZpcnR1YWwtZGlyZWN0b3JpZXMtYW5kLWFwcGxpY2F0aW9uLXBvb2xzDQojPg0KCXBhcmFtICgNCgkJW1N0cmluZ10gJFNvdXJjZSwNCgkJW1N0cmluZ10gJFBhdGggPSAiQzpcaW5ldHB1Ylx3d3dyb290IiwNCgkJW1N0cmluZ10gJE5hbWUgPSAiIiwNCgkJW1N0cmluZ10gJFVzZXJuYW1lID0gIiIsDQoJCVtTdHJpbmddICRQYXNzd29yZCA9ICIiDQoJKQ0KDQoJSW1wb3J0LU1vZHVsZSBXZWJBZG1pbmlzdHJhdGlvbg0KCQ0KCWlmICgkTmFtZSAtZXEgIiIpIHsNCgkJJE5hbWUgPSBAKFtJTy5QYXRoXTo6R2V0RGlyZWN0b3J5TmFtZSgkU291cmNlKSAtc3BsaXQgJ1xcJylbLTFdDQoJCWlmICgkTmFtZSAtZXEgInd3d3Jvb3QiKSB7DQoJCQl0aHJvdygiQXBwbGljYXRpb24gcG9vbCBuYW1lIGNvdWxkbid0IGJlICd3d3dyb290Jy4iKQ0KCQl9DQoJfQ0KCWVsc2Ugew0KCQkkUGF0aCA9IFtJTy5QYXRoXTo6Q29tYmluZSgkUGF0aCwgJE5hbWUpDQoJfQ0KDQoJQ29weS1JdGVtIC1QYXRoICRTb3VyY2UgLURlc3RpbmF0aW9uICRQYXRoIC1SZWN1cnNlIC1Gb3JjZQ0KCQ0KDQoJIyBDcmVhdGUgbmV3IGFwcGxpY2F0aW9uIHBvb2wNCiAgICAkQXBwUG9vbCA9IE5ldy1XZWJBcHBQb29sIC1OYW1lICROYW1lIC1Gb3JjZQ0KICAgICMkQXBwUG9vbCA9IEdldC1JdGVtICJJSVM6XEFwcFBvb2xzXCROYW1lIg0KICAgICRBcHBQb29sLm1hbmFnZWRSdW50aW1lVmVyc2lvbiA9ICd2NC4wJw0KICAgICRBcHBQb29sLm1hbmFnZWRQaXBlbGluZU1vZGUgPSAnQ2xhc3NpYycNCiAgICAkQXBwUG9vbC5wcm9jZXNzTW9kZWwubG9hZFVzZXJQcm9maWxlID0gJHRydWUNCiAgICAkQXBwUG9vbC5wcm9jZXNzTW9kZWwubG9nb25UeXBlID0gJ0xvZ29uQmF0Y2gnDQogICAgDQoJI1NldCBJZGVudGl0eSB0eXBlDQoJaWYgKCRVc2VybmFtZSAtZXEgIiIpIHsNCgkJJEFwcFBvb2wucHJvY2Vzc01vZGVsLmlkZW50aXR5VHlwZSA9ICdBcHBsaWNhdGlvblBvb2xJZGVudGl0eScNCgl9DQoJZWxzZSB7DQoJICAgICRBcHBQb29sLnByb2Nlc3NNb2RlbC5pZGVudGl0eVR5cGUgPSAnU3BlY2lmaWNVc2VyJw0KCSAgICAkQXBwUG9vbC5wcm9jZXNzTW9kZWwudXNlck5hbWUgPSAkVXNlcm5hbWUNCgkgICAgJEFwcFBvb2wucHJvY2Vzc01vZGVsLnBhc3N3b3JkID0gJFBhc3N3b3JkDQoJICAgICRBcHBQb29sIHwgU2V0LUl0ZW0NCgl9DQoNCg0KICAgICMgQ3JlYXRlIFdlYnNpdGUNCiAgICAkV2ViU2l0ZSA9IE5ldy1XZWJTaXRlIC1OYW1lICROYW1lIC1Qb3J0IDgwIC1Ib3N0SGVhZGVyICROYW1lIC1QaHlzaWNhbFBhdGggJFBhdGggLUZvcmNlDQogICAgIyRXZWJTaXRlID0gR2V0LUl0ZW0gIklJUzpcU2l0ZXNcJE5hbWUiDQogICAgDQoJIyBTZXQgdGhlIEFwcGxpY2F0aW9uIFBvb2wNCiAgICBTZXQtSXRlbVByb3BlcnR5ICJJSVM6XFNpdGVzXCROYW1lIiAnQXBwbGljYXRpb25Qb29sJyAkTmFtZQ0KICAgIA0KCSNUdXJuIG9uIERpcmVjdG9yeSBCcm93c2luZw0KICAgICNTZXQtV2ViQ29uZmlndXJhdGlvblByb3BlcnR5IC1GaWx0ZXIgJy9zeXN0ZW0ud2ViU2VydmVyL2RpcmVjdG9yeUJyb3dzZScgLU5hbWUgJ2VuYWJsZWQnIC1WYWx1ZSAkdHJ1ZSAtUFNQYXRoICJJSVM6XFNpdGVzXCROYW1lIg0KICAgIA0KCSMgVXBkYXRlIEF1dGhlbnRpY2F0aW9uDQogICAgI1NldC1XZWJDb25maWd1cmF0aW9uUHJvcGVydHkgLUZpbHRlciAnL3N5c3RlbS5XZWJTZXJ2ZXIvc2VjdXJpdHkvYXV0aGVudGljYXRpb24vQW5vbnltb3VzQXV0aGVudGljYXRpb24nIC1OYW1lICdlbmFibGVkJyAtVmFsdWUgJHRydWUgLUxvY2F0aW9uICRuYW1lDQogICAgI1NldC1XZWJDb25maWd1cmF0aW9uUHJvcGVydHkgLUZpbHRlciAnL3N5c3RlbS5XZWJTZXJ2ZXIvc2VjdXJpdHkvYXV0aGVudGljYXRpb24vd2luZG93c0F1dGhlbnRpY2F0aW9uJyAtTmFtZSAnZW5hYmxlZCcgLVZhbHVlICRmYWxzZSAtTG9jYXRpb24gJE5hbWUNCiAgICAjU2V0LVdlYkNvbmZpZ3VyYXRpb25Qcm9wZXJ0eSAtRmlsdGVyICcvc3lzdGVtLldlYlNlcnZlci9zZWN1cml0eS9hdXRoZW50aWNhdGlvbi9iYXNpY0F1dGhlbnRpY2F0aW9uJyAtTmFtZSAnZW5hYmxlZCcgLVZhbHVlICRmYWxzZSAtTG9jYXRpb24gJE5hbWUNCgkNCgkkV2ViU2l0ZS5TdGFydCgpDQoNCglBZGQtQ29udGVudCAtUGF0aCAiQzpcV2luZG93c1xTeXN0ZW0zMlxEcml2ZXJzXGV0Y1xob3N0cyIgLVZhbHVlICIxMjcuMC4wLjEgICAkTmFtZSINCn0NCg0KDQpmdW5jdGlvbiBEZXBsb3ktV2ViQXBwRnJvbUdpdCB7DQoJcGFyYW0gKA0KCQlbU3RyaW5nXSAkVVJMLA0KCQlbU3RyaW5nXSAkVGVtcFBhdGggPSBbSU8uUGF0aF06OkNvbWJpbmUoW0lPLlBhdGhdOjpHZXRUZW1wUGF0aCgpLCBbSU8uUGF0aF06OkdldFJhbmRvbUZpbGVOYW1lKCkpLA0KCQlbU3RyaW5nXSAkT3V0cHV0UGF0aCA9IFtJTy5QYXRoXTo6Q29tYmluZShbSU8uUGF0aF06OkdldFRlbXBQYXRoKCksIFtJTy5QYXRoXTo6R2V0UmFuZG9tRmlsZU5hbWUoKSkNCgkpDQoJV3JpdGUtTG9nICJUZW1wUGF0aCA9ICckVGVtcFBhdGgnIg0KCVdyaXRlLUxvZyAiT3V0cHV0UGF0aCA9ICckT3V0cHV0UGF0aCciDQoJDQoJDQoJIyBGZXRjaCB3ZWIgYXBwbGljYXRpb24NCgkjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVdyaXRlLUxvZyAiRmV0Y2hpbmcgc291cmNlcyBmcm9tIEdpdCAuLi4iDQoJDQoJJG51bGwgPSBOZXctSXRlbSAtUGF0aCAkVGVtcFBhdGggLUl0ZW1UeXBlIENvbnRhaW5lcg0KCUV4ZWMgLUZpbGVQYXRoICdnaXQuZXhlJyAtQXJndW1lbnRMaXN0IEAoJ2Nsb25lJywgJFVSTCkgLVdvcmtpbmdEaXIgJFRlbXBQYXRoIC1SZWRpcmVjdFN0cmVhbXMNCgkNCgkkUGF0aCA9IEAoR2V0LUNoaWxkSXRlbSAkVGVtcFBhdGgpWzBdLkZ1bGxOYW1lDQoJIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkNCgkNCgkjIEJ1aWxkIHdlYiBhcHBsaWNhdGlvbg0KCSMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJV3JpdGUtTG9nICJCdWlsZGluZyBzb3VyY2VzIC4uLiINCgkNCgkkbXNidWlsZCA9ICJDOlxXaW5kb3dzXE1pY3Jvc29mdC5ORVRcRnJhbWV3b3JrNjRcdjQuMC4zMDMxOVxNU0J1aWxkLmV4ZSINCgkNCgkkbnVsbCA9IE5ldy1JdGVtIC1QYXRoICRPdXRwdXRQYXRoIC1JdGVtVHlwZSBDb250YWluZXINCgkNCgkkU2xuRmlsZXMgPSBAKEdldC1DaGlsZEl0ZW0gLVBhdGggJFBhdGggLUZpbHRlciAqLnNsbiAtUmVjdXJzZSkNCg0KICAgICMgU3RhcnQgbmV3IHByb2Nlc3NzIHdpdGggYWRkaXRpb25hbCBlbnYgdmFyaWFibGVzOg0KCSMqIFZpc3VhbFN0dWRpb1ZlcnNpb24gPSAiMTAuMCINCgkjKiBFbmFibGVOdUdldFBhY2thZ2VSZXN0b3JlICA9ICJ0cnVlIg0KCUV4ZWMgLUZpbGVQYXRoICRtc2J1aWxkIGANCgkJLUFyZ3VtZW50TGlzdCBAKCRTbG5GaWxlc1swXS5GdWxsTmFtZSwgIi9wOk91dHB1dFBhdGg9JE91dHB1dFBhdGgiKSBgDQoJCS1FbnZpcm9ubWVudCBAeydWaXN1YWxTdHVkaW9WZXJzaW9uJyA9ICcxMC4wJzsgJ0VuYWJsZU51R2V0UGFja2FnZVJlc3RvcmUnID0gJ3RydWUnfSBgDQoJCS1SZWRpcmVjdFN0cmVhbXMNCgkNCgkkQXBwRm9sZGVyID0gQChHZXQtQ2hpbGRJdGVtIChbSU8uUGF0aF06OkNvbWJpbmUoJE91dHB1dFBhdGgsICdfUHVibGlzaGVkV2Vic2l0ZXMnKSkpWzBdDQoJIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkNCgkNCgkjIEluc3RhbGwgd2ViIGFwcGxpY2F0aW9uDQoJIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVJlZ2lzdGVyLVdlYkFwcCAtU291cmNlICRBcHBGb2xkZXIuRnVsbE5hbWUgLU5hbWUgJEFwcEZvbGRlci5OYW1lDQoJIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KfQ0K"
  ],
  "Commands": [
    {
	  "Name": "Import-Module",
	  "Arguments": {
	    "Name": "CoreFunctions"
	  }
	},
    {
      "Name": "Deploy-WebAppFromGit",
      "Arguments": {
        "URL": "$repository"
      }
    }
  ],
  "RebootOnCompletion": 0
}
